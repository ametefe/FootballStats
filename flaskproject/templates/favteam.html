{% extends "layout.html" %}
{% block content %}

<div id="countryListContainer">
    <input type="text" id="searchBar" onkeyup="filterCountries()" placeholder="Search for countries...">
    <ul id="countryList">
      {% for row in data %}
        <li>
            <button onclick="showCountryName(this)">
                <img src="{{ row.Flag }}" alt="Icon" style="width: 50px; height: 50px;" />
                {{ row.Name }}
            </button>
        </li>
      {% endfor %}        
    <!-- Add more countries here -->
  </ul>
  <script>
    function filterCountries() {
      // Get input value from the search bar
      const input = document.getElementById("searchBar").value.toLowerCase();
      
      // Get the list of all countries
      const countries = document.querySelectorAll("#countryList li");
      
      // Loop through each country in the list
      countries.forEach(country => {
        const countryName = country.textContent.toLowerCase();
        
        // If the country name contains the input value, display it, otherwise hide it
        if (countryName.includes(input)) {
          country.style.display = "block";
        } else {
          country.style.display = "none";
        }
      });
    }

    function showCountryName(button) {
    const countryName = button.textContent;
    alert(countryName);
  }
  </script>
{% endblock content %}